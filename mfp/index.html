const msalConfig = {
  auth: {
    clientId: "REAL_MICROSOFT_CLIENT_ID", // Replace with your actual client ID
    redirectUri: window.location.origin
  }
};
const msalInstance = new msal.PublicClientApplication(msalConfig);
document.getElementById('microsoft-signin-btn').addEventListener('click', () => {
  msalInstance.loginPopup({ scopes: ["User.Read"] })
    .then(loginResponse => {
      console.log('Microsoft Login Response:', loginResponse);
      document.getElementById('user-info').textContent = 'Signed in as: ' + loginResponse.account.username;
      // Hide the authentication overlay on successful login
      document.getElementById('auth-overlay').classList.add('logged-in');
    })
    .catch(error => {
      console.error('Microsoft Login Error:', error);
    });
});

// ----- Manual Login Functionality -----
// Hard-coded credentials for validation
const MANUAL_USERNAME = "MFPTestUser@mfptech.com";
const MANUAL_PASSWORD = "K*744127034889ug";

function manualLogin() {
  const usernameInput = document.getElementById('manual-username');
  const passwordInput = document.getElementById('manual-password');
  if (!usernameInput || !passwordInput) {
    console.error("Manual login inputs not found.");
    return;
  }
  
  const username = usernameInput.value.trim();
  const password = passwordInput.value;
  
  if (username === MANUAL_USERNAME && password === MANUAL_PASSWORD) {
    document.getElementById('user-info').textContent = `Signed in as: ${username}`;
    console.log("Manual login successful.");
    // Hide the authentication overlay on successful login
    document.getElementById('auth-overlay').classList.add('logged-in');
  } else {
    alert("Login failed. Please check your username and password.");
    console.log("Manual login failed.");
  }
}

document.getElementById('manual-login-btn').addEventListener('click', manualLogin);
